ALGORITHMS = [
    {'out':(1, 3), 1:(2,), 3:(4,), 4:(5,), 5:(6,), 6:(6,)},       #1
    {'out':(1, 3), 1:(2,), 2:(2,), 3:(4,), 4:(5,), 5:(6,)},       #2
    {'out':(1, 4), 1:(2,), 2:(3,), 4:(5,), 5:(6,), 6:(6,)},       #3
    {'out':(1, 4), 1:(2,), 2:(3,), 4:(5,), 5:(6,), 6:(4,)},       #4
    {'out':(1, 3, 5), 1:(2,), 3:(4,), 5:(6,), 6:(6,)},         #5
    {'out':(1, 3, 5), 1:(2,), 3:(4,), 5:(6,), 6:(5,)},         #6
    {'out':(1, 3), 1:(2,), 3:(4, 5), 5:(6,), 6:(6,)},       #7
    {'out':(1, 3), 1:(2,), 3:(4, 5), 4:(4,), 5:(6,)},       #8
    {'out':(1, 3), 1:(2,), 2:(2,), 3:(4, 5), 5:(6,)},       #9
    {'out':(1, 4), 1:(2,), 2:(3,), 3:(3,), 4:(5,), 4:(6,)},       #10

    {'out':(1, 4), 1:(2,), 2:(3,), 4:(6,), 6:(6,)},            #11
    {'out':(1, 3), 1:(2,), 2:(2,), 3:(4, 5, 6)},         #12
    {'out':(1, 3), 1:(2,), 3:(4, 5, 6), 6:(6,)},         #13
    {'out':(1, 3), 1:(2,), 3:(4,), 4:(5, 6), 6:(6,)},       #14
    {'out':(1, 3), 1:(2,), 2:(2,), 3:(4,), 4:(5, 6)},       #15
    {'out':(1,), 1:(2, 3, 5), 3:(4,), 5:(6,), 6:(6,)},         #16
    {'out':(1,), 1:(2, 3, 5), 2:(2,), 3:(4,), 5:(6,)},         #17
    {'out':(1,), 1:(2, 3, 4), 3:(3,), 4:(5,), 5:(6,)},         #18

    {'out':(1, 4, 5), 1:(2,), 2:(3,), 4:(6,), 5:(6,), 6:(6,)},    #19
    {'out':(1, 2, 4), 1:(3,), 2:(3,), 3:(3,), 4:(5, 6)},    #20
    {'out':(1, 2, 4, 5), 1:(3,), 2:(3,), 3:(3,), 4:(6,), 5:(6,)}, #21
    {'out':(1, 3, 4, 5), 1:(2,), 3:(6,), 4:(6,), 5:(6,), 6:(6,)}, #22
    {'out':(1, 2, 4, 5), 2:(3,), 4:(6,), 5:(6,)},           #23
    {'out':(1, 2, 3, 4, 5), 3:(6,), 4:(6,), 5:(6,), 6:(6,)},   #24
    {'out':(1, 2, 3, 4, 5), 4:(6,), 5:(6,), 6:(6,)},        #25

    {'out':(1, 2, 4), 2:(3,), 4:(6,), 5:(6,), 6:(6,)},         #26
    {'out':(1, 2, 4), 2:(3,), 3:(3,), 4:(5,), 4:(6,)},         #27
    {'out':(1, 3, 6), 1:(2,), 3:(4,), 4:(5,), 5:(5,)},         #28
    {'out':(1, 2, 3, 5), 3:(4,), 5:(6,), 6:(6,)},           #29
    {'out':(1, 2, 3, 6), 3:(4,), 4:(5,), 5:(5,)},           #30
    {'out':(1, 2, 3, 4, 5), 5:(6,), 6:(6,)},             #31
    {'out':(1, 2, 3, 4, 5, 6), 6:(6,)}                #32
]

def is_carrier(algo, i):
    return i in ALGORITHMS[algo]['out']

def is_modulator(algo, i):
    return i in ALGORITHMS[algo]['out']

# XXX Think about this as it's not right.
def depth(algo, i):
    if is_carrier(algo, i):
        return 0
    return 1+depth(algo, ALGORITHMS[algo][i][0])
